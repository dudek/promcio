<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.prime.com.tr/ui" xmlns:fn="http://java.sun.com/jsp/jstl/functions" template="/WEB-INF/templates/default.xhtml">
   <ui:define name="content">
       <a href="addemployee.jsf">Dodaj pracownika</a>
      <h:form>  
    <p:dataTable value="#{employeeBean.allEmployees}" var="current">  
  
        <f:facet name="header">  
            Lista pracownikow 
        </f:facet>  
  
        <p:column>  
            <f:facet name="header">  
                Imie  
            </f:facet>  
  
             <h:outputText value="#{current.firstname}" />
   
        </p:column>  
  
        <p:column headerText="Nazwisko">  
             <h:outputText value="#{current.surname}" />  
        </p:column>  
  
        <p:column headerText="pesel">  
            <h:outputText value="#{current.pesel}" /> 
        </p:column>  
  
        <p:column headerText="Rok ur">  
           <h:outputText value="#{current.yob}" /> 
        </p:column> 
        
         <p:column headerText="Nip">  
           <h:outputText value="#{current.nip}" />
        </p:column>
        
        <p:column headerText="">  
           <h:commandButton value="usun" action="#{employeeBean.doRemoveEmployee}" > 
           <f:setPropertyActionListener target="#{employeeBean.rmId}" value="#{current.id}" />
           </h:commandButton>
        </p:column> 
  
  		<!-- zmienic, zeby nie powielalo zapytania do bazyy -->
        <f:facet name="footer">  
            Liczba pracownikow: #{fn:length(employeeBean.allEmployees)}
        </f:facet>  
  
    </p:dataTable>  
  
</h:form>  
      <br/><br/>
   </ui:define>
</ui:composition>
